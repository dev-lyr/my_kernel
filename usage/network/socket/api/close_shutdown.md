# 一 概述:
## (1)close和shutdown区别:
- close将socket对应描述符的引用计数减1, 仅在计数变为0时才关闭套接字(例如:服务端接收到新的连接后, fork子进程来处理, 而父进程调用close来关闭已连接的套接字). shutdown则不管引用计数就直接激发TCP的正常连接终止序列.
- close终止的是读和写两个方向的数据传送. 但有时需告诉对端已完成数据传输, 但可以接收对端的数据等情况, 可以使用shutdown来满足.

# 二 close

# 三 shutdown
## (1)语法:
- int shutdown(int sockfd, int howto)

## (2)howto:
- SHUT_RD: 关闭读, 套接字中不再有数据可接收, 且套接字接收缓冲区的现有数据都被丢弃. 进程不能再对该套接字调用任何读函数, 调用shutdown后对端发送的任何数据都会被确认, 但会被丢弃.
- SHUT_WR: 关闭写, 该连接处于"半关闭(half-close)", 当前留在套接字发送区的数据会被发送掉, 然后发送TCP正常的终止报文, 进程不能对这类套接字执行任何写函数.
- SHUT_RDWR: 读和写半部都关闭.