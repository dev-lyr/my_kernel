# 一 RST概述：
## (1)定义:
- RST表示复位，RST=1表示TCP中出现严重错误(由于主机崩溃或其它原因)，必须释放连接. RST=1还可用来拒绝一个非法的报文段或拒绝打开一个连接. 发送RST后不会再有正常的四分组终止序列(Unix网络编程so_linger选项).
- RST报文段不会导致另一端产生任何响应，另一端不进行确认，收到RST的一段将终止该连接，并通知应用层连接复位.

## (2)三个条件可以产生RST:
- SYN到达某端口但此端口上没有正在监听的服务器(针对TCP而言，UDP则返回端口不可达ICMP错误).
- TCP想取消一个已有连接(使用套接字SO_LINGER选项).
- TCP接收了一个根本不存在的连接上的分节.

# 二 TCP：
## (1)服务进程终止:
- 收到客户数据后，响应一个RST.

## (2)服务器主机崩溃:
*客户TCP持续重传直至最后放弃，返回错误ETIMEDOUT.
*如果是某个路由器判断服务器主机不可达，从而相应一个"destination unreachable"ICMP消息，那么返回错误时EHOSTUNREACH或  ENETUNREACH.
*不主动发送数据：采用SO_KEEPALIVE选项.

## (3)服务器主机崩溃后重启:
- 服务器对收到来自客户的数据分节响应一个RST.

## (4)服务器主机关机:
- 当主机关机，服务器子进程终止时，所有打开的描述符都被关闭.随后就与1服务器进程终止一样.